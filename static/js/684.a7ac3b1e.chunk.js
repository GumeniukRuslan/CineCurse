"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[684],{9202:function(n,r,e){e.d(r,{z:function(){return i}});var t,a=e(168),o=e(6444).ZP.button(t||(t=(0,a.Z)(["\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 25px;\n  background-color: #6643b5;\n  border: none;\n  border-radius: 4px;\n  color: rgba(255, 255, 255, 0.908);\n  cursor: pointer;\n  font-size: 16px;\n  padding: 10px 20px;\n  transition: background-color 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275) 0s;\n\n  &:hover,\n  &:focus {\n    background-color: #8594e4;\n  }\n"]))),c=e(184),i=function(n){var r=n.loadMore;return(0,c.jsx)(o,{onClick:r,children:"Load more"})}},9760:function(n,r,e){e.d(r,{j:function(){return a}});var t=e(184),a=function(){return(0,t.jsx)("div",{children:"Error"})}},385:function(n,r,e){e.d(r,{v:function(){return a}});var t=e(184),a=function(n){var r=n.text;return(0,t.jsx)("p",{children:r})}},9947:function(n,r,e){e.d(r,{Af:function(){return d},cN:function(){return s},rS:function(){return l},v_:function(){return p}});var t,a,o,c,i=e(168),u=e(6444),s=u.ZP.li(t||(t=(0,i.Z)(["\n  overflow: hidden;\n  border-radius: 4px;\n  background-color: rgba(220, 214, 247, 0.3);\n  backdrop-filter: blur(10px);\n  box-shadow: 5px 5px 5px 0px rgba(0, 0, 0, 0.5);\n  width: calc((100% - 5 * 20px) / 5);\n  position: relative;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    transform: scale(1.05);\n  }\n"]))),p=u.ZP.img(a||(a=(0,i.Z)(["\n  width: 100%;\n  display: block;\n"]))),l=u.ZP.h2(o||(o=(0,i.Z)(["\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n  color: white;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,\n    1px 1px 0 #000;\n"]))),d=u.ZP.p(c||(c=(0,i.Z)(["\n  background-color: ",";\n  backdrop-filter: blur(10px);\n  display: inline-block;\n  padding: 8px;\n  font-size: 17px;\n  border-radius: 40%;\n  position: absolute;\n  top: 15px;\n  right: 15px;\n"])),(function(n){return n.type<0?null:n.type>0&&n.type<5?"rgba(159, 30, 73, 0.5)":n.type>5&&n.type<8?"rgba(204,204,0, 0.5)":"rgba(34, 139, 34, 0.5)"}))},5672:function(n,r,e){e.d(r,{e:function(){return l}});var t,a=e(1087),o=e(9947),c=e(184),i=function(n){var r=n.info,e=n.path;return(0,c.jsx)(o.cN,{children:(0,c.jsxs)(a.rU,{to:"/movies/".concat(r.id),state:e,children:[(0,c.jsx)(o.v_,{src:"https://image.tmdb.org/t/p/original".concat(r.poster_path),alt:r.title}),(0,c.jsx)(o.rS,{children:r.title}),(0,c.jsx)(o.Af,{type:r.vote_count?r.vote_average:-1,children:r.vote_count?r.vote_average.toFixed(1):""})]})})},u=e(7689),s=e(168),p=e(6444).ZP.ul(t||(t=(0,s.Z)(["\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  padding: 0;\n"]))),l=function(n){var r=n.data,e=(0,u.TH)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(p,{children:r.map((function(n){return(0,c.jsx)(i,{path:{from:e},info:n},n.id)}))})})}},3524:function(n,r,e){e.d(r,{Q:function(){return t}});var t={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},6436:function(n,r,e){e.d(r,{Aj:function(){return l},IQ:function(){return v},Jh:function(){return m},XT:function(){return f},rs:function(){return h}});var t=e(5861),a=e(7757),o=e.n(a),c=e(1243),i="2de054a07ae490574e29d3b99d4d100e",u="https://api.themoviedb.org/3",s="/trending/movie/day",p="/search/movie";function l(){return d.apply(this,arguments)}function d(){return d=(0,t.Z)(o().mark((function n(){var r,e,t,a=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1,e=new URLSearchParams({api_key:i,page:r}),n.next=4,c.Z.get("".concat(u).concat(s,"?").concat(e));case 4:return t=n.sent,n.abrupt("return",t.data);case 6:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function f(n){return x.apply(this,arguments)}function x(){return x=(0,t.Z)(o().mark((function n(r){var e,t,a,s=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=s.length>1&&void 0!==s[1]?s[1]:1,t=new URLSearchParams({api_key:i,query:r,page:e}),n.next=4,c.Z.get("".concat(u).concat(p,"?").concat(t));case 4:return a=n.sent,n.abrupt("return",a.data);case 6:case"end":return n.stop()}}),n)}))),x.apply(this,arguments)}function h(n){return b.apply(this,arguments)}function b(){return(b=(0,t.Z)(o().mark((function n(r){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:i}),n.next=3,c.Z.get("".concat(u,"/movie/").concat(r,"?").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return g.apply(this,arguments)}function g(){return(g=(0,t.Z)(o().mark((function n(r){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:i}),n.next=3,c.Z.get("".concat(u,"/movie/").concat(r,"/credits?").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(n){return Z.apply(this,arguments)}function Z(){return(Z=(0,t.Z)(o().mark((function n(r){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new URLSearchParams({api_key:i}),n.next=3,c.Z.get("".concat(u,"/movie/").concat(r,"/reviews?").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},5684:function(n,r,e){e.r(r),e.d(r,{default:function(){return _}});var t,a,o,c=e(3433),i=e(5861),u=e(9439),s=e(7757),p=e.n(s),l=e(5672),d=e(6436),f=e(2791),x=e(9014),h=e(1087),b=e(3524),v=e(6723),g=e(9760),m=e(385),Z=e(9202),y=e(168),k=e(6444),w=k.ZP.form(t||(t=(0,y.Z)(["\n  margin: 20px 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),j=k.ZP.button(a||(a=(0,y.Z)(["\n  background-color: #6643b5;\n  color: rgba(255, 255, 255, 0.908);\n  border: none;\n  border-radius: 4px;\n  font-size: 16px;\n  padding: 10px 15px;\n  margin-left: 10px;\n  cursor: pointer;\n  transition: background-color 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275) 0s;\n\n  &:hover,\n  &:focus {\n    background-color: #8594e4;\n  }\n"]))),E=k.ZP.input(o||(o=(0,y.Z)(["\n  padding: 10px;\n  border: 2px solid #ccc;\n  border-radius: 4px;\n  font-size: 16px;\n  transition: border-color 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275) 0s;\n\n  &:focus {\n    outline: none;\n    border-color: #430f58;\n  }\n"]))),P=e(184),S=function(n){var r=n.submit,e=n.value;return(0,P.jsxs)(w,{onSubmit:r,children:[(0,P.jsx)(E,{name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",defaultValue:e}),(0,P.jsx)(j,{type:"submit",children:"Search"})]})},_=function(){var n,r=(0,f.useState)(b.Q.IDLE),e=(0,u.Z)(r,2),t=e[0],a=e[1],o=(0,f.useState)([]),s=(0,u.Z)(o,2),y=s[0],k=s[1],w=(0,f.useState)(1),j=(0,u.Z)(w,2),E=j[0],_=j[1],D=(0,f.useState)(0),L=(0,u.Z)(D,2),R=L[0],z=L[1],Q=(0,h.lr)(),T=(0,u.Z)(Q,2),N=T[0],C=T[1],F=null!==(n=N.get("filter"))&&void 0!==n?n:"";return(0,f.useEffect)((function(){F&&(0,i.Z)(p().mark((function n(){var r,e;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,1!==E){n.next=9;break}return a(b.Q.PENDING),n.next=5,(0,d.XT)(F);case 5:r=n.sent,k(r.results),z(r.total_results),a(b.Q.RESOLVED);case 9:if(!(E>1)){n.next=14;break}return n.next=12,(0,d.XT)(F,E);case 12:e=n.sent,k((function(n){return[].concat((0,c.Z)(n),(0,c.Z)(e.results))}));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),a(b.Q.REJECTED);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})))()}),[F,E]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(S,{submit:function(n){n.preventDefault();var r=n.target.elements.search.value.trim();if(!r){C({});return x.Am.error("Please, fill the search field.")}if(r===F){return(0,x.Am)("Please use another Query ;)",{icon:"\ud83d\ude35\u200d\ud83d\udcab"})}_(1),C({filter:r})},value:F}),t===b.Q.PENDING&&(0,P.jsx)(v.a,{}),t===b.Q.RESOLVED?y.length?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(l.e,{data:y})," ",R>y.length?(0,P.jsx)(Z.z,{loadMore:function(){return _((function(n){return n+1}))}}):(0,P.jsx)(P.Fragment,{})]}):(0,P.jsx)(m.v,{text:"The true explorers of our time are not discouraged by failure. Try another query."}):(0,P.jsx)(P.Fragment,{}),t===b.Q.REJECTED&&(0,P.jsx)(g.j,{})]})}}}]);
//# sourceMappingURL=684.a7ac3b1e.chunk.js.map